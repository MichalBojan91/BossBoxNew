{% extends 'base.html.twig' %}

{% block title %} Notatki {% endblock %}

{% block body %}
      <div class="ml-64">
        <!-- Top Header -->
        <header class="bg-white shadow-sm border-b border-gray-200">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-semibold text-gray-900">Notatki</h1>
                        <p class="text-gray-600 text-sm mt-1">Przeglądaj, zapisuj i organizuj swoje notatki</p>
                    </div>
                </div>
            </div>
        </header>    
        </div> 
        <!-- Main Content -->
        <div class="bg-cordes-light rounded-lg shadow p-6 ml-72 mt-6 mr-6"> 
          <!-- TOOLBAR -->
    <div class="flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4">
        <!-- Lewa strona: przycisk Dodaj notatkę -->
        <div>
            <a href="{{ path('app_notes_create') }}" 
               class="flex items-center px-4 py-2 bg-cordes-accent text-white rounded hover:bg-blue-700 text-sm font-semibold shadow transition">
                <i class="fas fa-plus mr-2"></i> Dodaj notatkę
            </a>
        </div>
        <!-- Prawa strona: wyszukiwarka i sortowanie -->
        <div class="flex flex-col sm:flex-row sm:items-center gap-2">
            <!-- Wyszukiwarka -->
            <div>
                <input
                    type="text"
                    placeholder="Szukaj notatek..."
                    class="px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-cordes-accent text-sm bg-white"
                />
            </div>
            <!-- Sortowanie -->
            <div>
                <select class="pl-3 pr-7 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-cordes-accent text-sm bg-white">
                    <option value="date_desc">Sortuj: Najnowsze</option>
                    <option value="date_asc">Sortuj: Najstarsze</option>
                    <option value="title_asc">A-Z</option>
                    <option value="title_desc">Z-A</option>
                </select>
            </div>
        </div>
    </div>

    <h2 class="text-2xl font-bold text-cordes-dark mb-6">Lista notatek</h2>
      {% for message in app.flashes('success') %}
        <div class="mb-4 p-3 rounded bg-green-100 text-green-800 border border-green-300">
            {{ message }}
        </div>
    {% endfor %}
    <table class="min-w-full divide-y divide-gray-200">
        <thead>
            <tr class="bg-cordes-blue text-white">
                <th class="px-4 py-3 text-left font-semibold">Nr</th>
                <th class="px-4 py-3 text-left font-semibold">Tytuł</th>
                <th class="px-4 py-3 text-left font-semibold">Data</th>
                <th class="px-4 py-3 text-left font-semibold">Opcje</th>
            </tr>
        </thead>
        <tbody class="bg-cordes-light">
    {% for note in notes %}
        <tr class="border-b">
            <td class="px-4 py-3">{{ note.id }}</td>
            <td class="px-4 py-3">{{ note.title }}</td>
            <td class="px-4 py-3">
                {{ note.created ? note.created|date('Y-m-d H:i:s') : '' }}
            </td>
            <td class="px-4 py-3 flex space-x-2">
                <a href="{{ path('app_notes_show', { 'id': note.id }) }}" class="px-3 py-1 bg-cordes-accent text-white rounded hover:bg-blue-700 text-sm">Szczegóły</a>
                <a href="#" class="px-3 py-1 bg-cordes-accent text-white rounded hover:bg-blue-700 text-sm">Edytuj</a>
                <a href="#" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-700 text-sm">Usuń</a>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="4" class="px-4 py-3 text-center text-gray-500">Brak notatek w bazie.</td>
        </tr>
    {% endfor %}
</tbody>
    </table>
</div>
            
        
{% endblock %}

